(this["webpackJsonpreact-chatroom"]=this["webpackJsonpreact-chatroom"]||[]).push([[0],{58:function(e,t,a){},79:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(13),o=a.n(r),i=(a(79),a(35)),s=a.n(i),l=a(45),u=a(40),d=a(24),j=(a(81),a(91),a(49)),h=a(141),b=a(128),p=a(131),m=a(133),v=a(134),f=a(142),O=a(50),x=a(48),g=a(9),y=Object(b.a)((function(e){return{root:{maxWidth:900},avatar:{backgroundColor:x.a[500]}}}));function w(e){var t=e.createdAt,a=void 0===t?null:t,c=e.text,n=void 0===c?"":c,r=e.displayName,o=void 0===r?"":r,i=e.photoURL,s=void 0===i?"":i,l=y();return Object(g.jsxs)(p.a,{className:l.root,children:[Object(g.jsx)(m.a,{avatar:Object(g.jsx)(f.a,{"aria-label":"photo",className:l.avatar,src:s}),title:o||null,subheader:(null===a||void 0===a?void 0:a.seconds)?Object(h.a)(new Date(1e3*a.seconds),new Date):null}),Object(g.jsx)(v.a,{children:Object(g.jsx)(O.a,{variant:"body2",color:"textSecondary",component:"p",children:n})})]})}var N=a(135),S=a(140),k=a(63),C=a.n(k),I=a(136),D=(a(58),function(e){var t=e.user,a=void 0===t?null:t,n=e.db,r=void 0===n?null:n,o=Object(c.useState)([]),i=Object(u.a)(o,2),s=i[0],l=i[1],h=Object(c.useState)(""),b=Object(u.a)(h,2),p=b[0],m=b[1],v=a.uid,f=a.displayName,O=a.photoURL,x=Object(c.useRef)();Object(c.useEffect)((function(){if(r)return r.collection("messages").orderBy("createdAt").limit(100).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id})}));l(t)}))}),[r]);return Object(c.useEffect)((function(){if(s){return x.current.scrollIntoView({behavior:"smooth"})}}),[s]),Object(g.jsxs)("div",{children:[Object(g.jsx)(N.a,{maxWidth:"sm",className:"channel-container",children:Object(g.jsxs)("div",{children:[s.map((function(e){return Object(g.jsx)("div",{className:"channel-message",children:Object(g.jsx)(w,Object(j.a)({},e))},e.id)})),Object(g.jsx)("div",{ref:x})]})}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r&&(r.collection("messages").add({text:p,createdAt:d.a.firestore.FieldValue.serverTimestamp(),uid:v,displayName:f,photoURL:O}),m(""))},className:"channel-form",autoComplete:"off",children:[Object(g.jsx)(S.a,{className:"channel-text",id:"standard-basic",type:"text",value:p,onChange:function(e){m(e.target.value)},placeholder:"Type your message here"}),Object(g.jsx)(I.a,{type:"submit",disabled:!p,children:Object(g.jsx)(C.a,{})})]})]})}),R=a(137),A=a(138),U=a(139),W=a(64),z=a.n(W),B=Object(b.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1}}}));function E(e){var t=e.auth,a=e.user,c=B(),n=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.signOut();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:c.root,children:Object(g.jsx)(R.a,{position:"sticky",style:{position:"fixed"},children:Object(g.jsxs)(A.a,{children:[Object(g.jsx)(z.a,{}),Object(g.jsx)(O.a,{variant:"h6",className:c.title,children:"Chat Room"}),a?Object(g.jsx)(U.a,{color:"inherit",onClick:n,children:"Sign Out"}):null]})})})}d.a.initializeApp({apiKey:"AIzaSyDSv6qHzaRD0U1vkk6Osn0lNFSu6cTSUi4",authDomain:"react-chatroom-c7ef7.firebaseapp.com",projectId:"react-chatroom-c7ef7",storageBucket:"react-chatroom-c7ef7.appspot.com",messagingSenderId:"474147204325",appId:"1:474147204325:web:70cbd153b03967c65d780c"});var G=d.a.firestore(),L=d.a.auth();var T=function(){var e=Object(c.useState)((function(){return d.a.auth.currentUser})),t=Object(u.a)(e,2),a=t[0],n=t[1];Object(c.useEffect)((function(){return L.onAuthStateChanged((function(e){n(e||null)}))}),[]);var r=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.a.auth.GoogleAuthProvider,L.useDeviceLanguage(),e.prev=2,e.next=5,L.signInWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsx)(E,{auth:L,user:a}),a?Object(g.jsx)("div",{children:Object(g.jsx)(D,{user:a,db:G})}):Object(g.jsxs)("div",{className:"app-content",children:[Object(g.jsx)(O.a,{className:"app-header",align:"center",color:"primary",variant:"h4",children:"Welcome to ChatRoom"}),Object(g.jsx)(O.a,{className:"app-bodytext",varient:"body2",align:"center",color:"textSecondary",children:"This is a simple chatroom application built in React and Firebase with some Material UI. Click Below to login with your google account. Do write some reviews."}),Object(g.jsx)("div",{className:"container",children:Object(g.jsx)(U.a,{onClick:r,variant:"outlined",color:"primary",size:"medium",children:"Sign In With Google"})})]})]})};o.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(T,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.1464e859.chunk.js.map